---
layout: post
title: JAVA 8的新特性
date: 2018-01-22
tags: 博客
---

  Java 8 (又称为 jdk 1.8) 是 Java 语言开发的一个主要版本。 Oracle 公司于 2014 年 3 月 18 日发布 Java 8 ，它支持函数式编程，新的 JavaScript 引擎，新的日期 API，新的Stream API 等。
---
# 新特性
Java8 新增了非常多的特性，我们主要讨论以下几个：
- [Lambda 表达式](http://www.heshengbang.men/2018/01/JAVA-8新特性之Lambda-表达式/)：Lambda允许把函数作为一个方法的参数（函数作为参数传递进方法中。

- [方法引用](http://www.heshengbang.men/2018/01/JAVA-8新特性之方法引用/)：方法引用提供了非常有用的语法，可以直接引用已有Java类或对象（实例）的方法或构造器。与lambda联合使用，方法引用可以使语言的构造更紧凑简洁，减少冗余代码。

- [函数式接口](http://www.heshengbang.men/2018/01/JAVA-8新特性之函数式接口/)：函数式接口(Functional Interface)就是一个具有一个方法的普通接口。

- [默认方法](http://www.heshengbang.men/2018/01/JAVA-8新特性之默认方法/)：默认方法就是一个在接口里面有了一个实现的方法。

- [Stream](http://www.heshengbang.men/2018/01/JAVA-8新特性之Stream/)：新添加了一个抽象接口称为流Stream，可以让你以一种声明的方式处理数据。

- [Optional 类](http://www.heshengbang.men/2018/01/JAVA-8新特性之Optional类/)：Optional 类是一个可以为null的容器对象。如果值存在则isPresent()方法会返回true，调用get()方法会返回该对象。

- [Nashorn, JavaScript 引擎](http://www.heshengbang.men/2018/01/JAVA-8新特性之Nashorn,-JavaScript-引擎/)：Nashorn 一个 javascript 引擎。从JDK 1.8开始，Nashorn取代Rhino(JDK 1.6, JDK1.7)成为Java的嵌入式JavaScript引擎。Nashorn完全支持ECMAScript 5.1规范以及一些扩展。它使用基于JSR 292的新语言特性，其中包含在JDK 7中引入的 invokedynamic，将JavaScript编译成Java字节码。

- [新的日期时间 API](http://www.heshengbang.men/2018/01/JAVA-8新特性之新的日期时间-API/)：新的Date-Time API (JSR 310)来进一步加强对日期与时间的处理。

- [Base64](http://www.heshengbang.men/2018/01/JAVA-8新特性之Base64/)：在Java 8中，Base64编码已经成为Java类库的标准。Java 8 内置了 Base64 编码的编码器和解码器。

这篇博客是挖的一个坑，计划在春节假期来临之前填完。


## Lambda 表达式
  Lambda 表达式，也可称为闭包，它是推动 Java 8 发布的最重要新特性。Lambda 允许把函数作为一个方法的参数（函数作为参数传递进方法中）。使用 Lambda 表达式可以使代码变的更加简洁紧凑。
#### 语法
lambda 表达式的语法格式如下：
```
(parameters) -> expression
或
(parameters) ->{ statements; }
```
以下是lambda表达式的重要特征：
- 可选类型声明：不需要声明参数类型，编译器可以统一识别参数值。
- 可选的参数圆括号：一个参数无需定义圆括号，但多个参数需要定义圆括号。
- 可选的大括号：如果主体包含了一个语句，就不需要使用大括号。
- 可选的返回关键字：如果主体只有一个表达式返回值则编译器会自动返回值，大括号需要指明表达式返回了一个数值。

#### Lambda 表达式实例

```
public class Java8Tester {
    public static void main(String args[]){
        Java8Tester tester = new Java8Tester();
        // 类型声明
        MathOperation addition = (int a, int b) -> a + b;
        // 不用类型声明
        MathOperation subtraction = (a, b) -> a - b;
        // 大括号中的返回语句
        MathOperation multiplication = (int a, int b) -> { return a * b; };
        // 没有大括号及返回语句
        MathOperation division = (int a, int b) -> a / b;
        System.out.println("10 + 5 = " + tester.operate(10, 5, addition));
        System.out.println("10 - 5 = " + tester.operate(10, 5, subtraction));
        System.out.println("10 x 5 = " + tester.operate(10, 5, multiplication));
        System.out.println("10 / 5 = " + tester.operate(10, 5, division));
        // 不用括号
        Greeting greet1 = message -> System.out.println("Hello " + message);
        // 用括号
        Greeting greet2 = (message) -> System.out.println("Hello " + message);
        greet1.sayMessage("Runoob");
        greet2.sayMessage("Google");
    }

    interface MathOperation {
        int operation(int a, int b);
    }

    interface Greeting {
        void sayMessage(String message);
    }

    private int operate(int a, int b, MathOperation mathOperation){
        return mathOperation.operation(a, b);
    }
}
```
使用 Lambda 表达式需要注意以下两点：
- Lambda 表达式主要用来定义行内执行的方法类型接口，例如，一个简单方法接口。在上面例子中，我们使用各种类型的Lambda表达式来定义MathOperation接口的方法。然后我们定义了sayMessage的执行。
- Lambda 表达式免去了使用匿名方法的麻烦，并且给予Java简单但是强大的函数化的编程能力。

#### 变量作用域
lambda 表达式只能引用 final 或 final 局部变量，这就是说不能在 lambda 内部修改定义在域外的局部变量，否则会编译错误。

## 方法引用
## 函数式接口
## 默认方法
## Stream
## Optional 类
## Nashorn, JavaScript 引擎
## 新的日期时间 API
## Base64